@model IEnumerable<Employee>
@{
    ViewData["Title"] = "GetAll";
}
@{
    var departments = ViewData["department"];
}
@*خلي بالك ان كدا هنا مكان ال  
    div
    هيفضل موجود دايما حتي لو الي راجع ليه
    null 


<div class="m-3 alert alert-info">
    <p>
        @TempData["Message"]
    </p>
</div>

هروح اعمل فحص بسيط علشان اشوف هل في معلومات جايه ليا ولا لا 
*@

@* // in this step we should make casting *@
@if(!string.IsNullOrEmpty(TempData["Message"] as string)){
    <div class="m-3 alert alert-info">
        <p>
            @TempData["Message"]
        </p>
    </div>
}

@if(!string.IsNullOrEmpty(TempData["EditEmployee"] as string)){
    <div class="m-3 alert alert-info">
        <p>@TempData["EditEmployee"]</p>
    </div>
}


<h1>All Employees</h1>





<form >
    <div class="container m-4">
       <div class="row justify-content-center">
           <div class="col-6">
                <input id="SearchById" placeholder="Search By Name" name="SearchInput" class="form-control" />
           </div>
           <div class="col-6">
                <input type="submit" class="btn btn-primary" value="Search" />
           </div>
       </div>
    </div>
</form>





<br />
<br />
<a asp-action="Create" asp-controller="Employee" class="btn btn-primary">Create Employee</a>
<table class="table table-hover table-striped">
    @if(Model.Count()>0){
        <thead>
            <th>Image</th>
            <th>Name</th>
            <th>Age</th>
            <th>Email</th>
            <th>Address</th>
            <th>Phone</th>
            <th>Salary</th>
            <th>IsActive</th>
            <th>IsDeleted</th>
            <th>Hiring Date</th>
            <th>CreateAt</th>
            <th>Department</th>
            <th>Details</th>
            <th>Update</th>
            <th>Delete</th>
           
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <img src="~/Files/Images/@item.ImgName"height="100" class="img-fluid"/>
                    </td>
                    <td>@item.Name</td>
                    <td>@item.Age</td>
                    <td>@item.Email</td>
                    <td>@item.Address</td>
                    <td>@item.Phone</td>
                    <td>@item.salary</td>
                    <td>@item.IsActive</td>
                    <td>@item.IsDeleted</td>
                    <td>@item.HiringDate</td>
                    <td>@item.CreateAt</td>
                    <td>@item.Department?.Name</td>
                    <partial name="ButtonPartialView" model="@item.Id"></partial>
                </tr>
                }
       </tbody>
   }else{
       <div>
           <p>Ther is No Emolyees</p>
</div>
   }
</table>

